(async()=>{let e=null;chrome.tabs.onUpdated.addListener((async function(s,t,r){r&&r.id===s&&r.status!==e&&(e=r.status,"complete"===r.status&&chrome.tabs.sendMessage(s,{url:r.url}))}))})(),chrome.runtime.onMessage.addListener(((e,s,t)=>{if("openPage"===e.action){const s=e.page||"settings",r=chrome.runtime.getURL(`pages/index.html#${s}`);return chrome.tabs.create({url:r},(e=>{chrome.runtime.lastError?t({success:!1,error:chrome.runtime.lastError.message}):t({success:!0,tabId:e.id})})),!0}return!1}));